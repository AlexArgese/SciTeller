/* ==========================================================================
   SciTeller — Design Tokens (light/dark)
   --------------------------------------------------------------------------
   Palette "Carta/Inchiostro/Accento", tipografia serif+sans, radius, ombre,
   blur glass, spaziatura, motion e z-index. 
   ========================================================================== */

/* (facoltativo) font: serif “old writing” + sans moderna */
@import url("https://fonts.googleapis.com/css2?family=Literata:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap");

:root {
  color-scheme: light;

  /* ===== Colors (LIGHT) ===== */
  --paper-0: #f8f7f4;   /* sfondo “carta” */
  --paper-1: #f4f1eb;
  --paper-2: #ede9e2;
  --ink-0: #0f0f14;     /* testo principale */
  --ink-1: #2a2a33;     /* titoli secondari */
  --ink-2: #5a5a66;     /* testo secondario */
  --line-0: #b2ada4;    /* hairline su carta */
  --line-1: #c9c3b8;

  /* Accenti “tech” */
  --accent: #1E3A8A;
  --accent-2: #5fd0c0;  /* alternativa/ok */
  --warn: #ffb020;
  --danger: #f05252;
  --success: #16a34a;

  /* ===== Typography ===== */
  --font-serif: "Literata", ui-serif, Georgia, Cambria, "Times New Roman", serif;
  --font-sans: "Inter", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;

  --fs-hero: clamp(36px, 5vw, 64px);
  --fs-h1: clamp(28px, 3.6vw, 44px);
  --fs-h2: clamp(22px, 2.6vw, 32px);
  --fs-h3: clamp(18px, 2vw, 24px);
  --fs-body: 16px;
  --fs-small: 14px;
  --lh-tight: 1.15;
  --lh-snug: 1.25;
  --lh-normal: 1.55;

  /* ===== Radius ===== */
  --r-xs: 8px;
  --r-sm: 12px;
  --r-md: 16px;
  --r-lg: 20px;
  --r-2xl: 28px;

  /* ===== Shadows (ink-like soft) ===== */
  --shadow-1: 0 1px 2px rgba(15, 15, 20, .08), 0 1px 8px rgba(15, 15, 20, .05);
  --shadow-2: 0 8px 22px rgba(15, 15, 20, .2), 0 2px 8px rgba(15, 15, 20, .2);
  --shadow-3: 0 20px 50px rgba(15, 15, 20, .18);
  --shadow-4: 0 8px 22px rgba(15, 15, 20, .1), 0 2px 8px rgba(15, 15, 20, .1);
  --shadow-5: 0 4px 11px rgba(15, 15, 20, .2), 0 1px 4px rgba(15, 15, 20, .2);

  /* ===== Glass (LIGHT) ===== */
  --glass-bg: rgba(255, 255, 255, 0.257);
  --glass-blue-bg: radial-gradient(
    120% 100% at 50% 0%,
    color-mix(in oklab, var(--accent) 52%, #fff 8%) 20%,
    var(--accent) 48%,
    color-mix(in oklab, var(--accent) 68%, #ffffff 8%) 70%
  );
  --glass-brd: rgba(255, 255, 255, 0.68);
  --glass-line: rgba(0, 0, 0, 0.334);
  --glass-blur: 6px;

  --glass-sd:
    0 2px 1px var(--glass-brd) inset,
    0 -2px 1px var(--glass-brd) inset,
    2px 0 1px var(--glass-line) inset,
    -2px 0 1px var(--glass-line) inset,
    var(--shadow-2);

  --glass-CP-sd:
    0 2px 1px var(--glass-brd) inset,
    0 -2px 1px var(--glass-brd) inset,
    2px 0 1px var(--glass-line) inset,
    var(--shadow-2);

  --glass-scope-sd:
    2px 0 4px var(--glass-line) inset,
    var(--shadow-4);

  --glass-ball-sd:
    0 1px 1px var(--glass-brd) inset,
    0 -1px 1px var(--glass-brd) inset,
    1px 0 1px var(--glass-line) inset,
    -1px 0 1px var(--glass-line) inset,
    var(--shadow-2);

  --glass-blue-sd:
    2px 0 1px var(--glass-line) inset,
    -2px 0 1px var(--glass-line) inset,
    var(--shadow-2);

  --glass-blue-toggle-sd:
    2px 0 1px var(--glass-line) inset,
    -3px 0 1px var(--glass-line) inset,
    var(--shadow-2);

  --glass-beigeCP-sd:
    0 2px 1px var(--glass-brd) inset,
    2px 0 3px var(--glass-line) inset,
    var(--shadow-4);

  --glass-beigeSB-sd:
    0 2px 1px var(--glass-brd) inset,
    -2px 0 1px var(--glass-line) inset,
    var(--shadow-2);

  --glass-beigeSB-footer-sd:
    0 -2px 1px var(--glass-brd) inset,
    -2px 0 1px var(--glass-line) inset,
    var(--shadow-2);

  --glass-item-sd:
    0 2px 1px var(--glass-brd) inset,
    0 -2px 1px var(--glass-brd) inset,
    2px 0 1px var(--glass-line) inset,
    -2px 0 1px var(--glass-line) inset,
    var(--shadow-2);

  --glass-nav-sd:
    0 2px 1px var(--glass-brd) inset,
    var(--shadow-5);

  /* ===== Spacing scale ===== */
  --sp-1: 4px;
  --sp-2: 8px;
  --sp-3: 12px;
  --sp-4: 16px;
  --sp-5: 20px;
  --sp-6: 24px;
  --sp-7: 32px;
  --sp-8: 40px;
  --sp-9: 56px;
  --sp-10: 72px;

  /* ===== Motion ===== */
  --ease-emph: cubic-bezier(.22,.61,.36,1);
  --ease-soft: cubic-bezier(.22,.75,.16,1);
  --dur-1: 120ms;
  --dur-2: 200ms;
  --dur-3: 360ms;

  /* ===== Layout helpers ===== */
  --container-w: 100vw;
  --nav-h: 64px;     /* aggiornato dinamicamente da Navbar.jsx */
  --footer-h: 88px;  /* aggiornato dinamicamente da Footer.jsx */

  /* Z-index scale */
  --z-base: 0;
  --z-sticky: 10;
  --z-popover: 20;
  --z-modal: 30;
  --z-toast: 40;

  --line-paper-bg: repeating-linear-gradient(
    180deg,
    rgba(0,0,0,.03) 0 1px,
    transparent 1px 28px
  );
  --cp-bg: #ede9e263
  --item-sv-bg: color-mix(in oklab, var(--accent) 12%, var(--panel))
}

/* ========================= DARK THEME (warm editorial night) ========================= */
@media (prefers-color-scheme: dark) {
  :root {
    color-scheme: dark;

    /* Carta (sfondi “vellutati”) */
    --paper-0: #101117;   /* base: blu-nero opaco */
    --paper-1: #171a1f;   /* layer 1: contrasto morbido */
    --paper-2: #1d2128;   /* pannelli, navbar, CP */

    /* Inchiostro (testi) */
    --ink-0: #f5f6f7;     /* testo principale, quasi bianco */
    --ink-1: #dde0e5;     /* titoli secondari */
    --ink-2: #a6abb6;     /* testo secondario tenue */

    /* Linee */
    --line-0: #2b3038;    /* bordi chiari */
    --line-1: #1e2229;

    /* Accenti e stati (abbassati un po’ per non accecare) */
    --accent:   #7b8dff;  /* blu carta/stylus, più morbido */
    --accent-2: #55d3bd;  /* teal elegante per “ok” */
    --warn:     #e7b970;  /* ambra smorzato */
    --danger:   #e47474;  /* rosso caldo ma non neon */
    --success:  #4cc190;  /* verde smussato naturale */

    /* Ombre più morbide nel buio */
    --shadow-1: 0 1px 2px rgba(0, 0, 0, .75);
    --shadow-2: 0 10px 26px rgba(0, 0, 0, .78);
    --shadow-3: 0 24px 60px rgba(0, 0, 0, .85);
    --shadow-4: 0 10px 26px rgba(0, 0, 0, .7);
    --shadow-5: 0 5px 14px rgba(0, 0, 0, .85);

    /* Effetto vetro (glass) – dark */
    --glass-bg: rgba(14, 16, 22, 0.82);
    --glass-blue-bg: radial-gradient(
      130% 110% at 50% 0%,
      color-mix(in oklab, var(--accent) 65%, #000 20%) 0%,
      color-mix(in oklab, var(--accent) 80%, #000 15%) 40%,
      #05060a 90%
    );
    --glass-brd: rgba(255, 255, 255, 0.06);
    --glass-line: rgba(0, 0, 0, 0.75);
    --glass-blur: 18px;

    --glass-sd:
      0 1px 0 rgba(255,255,255,.04) inset,
      0 0 0 1px rgba(0,0,0,.55) inset,
      0 14px 32px rgba(0,0,0,.7);

    --glass-CP-sd:
      0 1px 0 rgba(255,255,255,.04) inset,
      0 0 0 1px rgba(0,0,0,.55) inset,
      0 10px 28px rgba(0,0,0,.6);

    --glass-scope-sd:
      2px 0 4px rgba(0,0,0,.55) inset,
      0 10px 20px rgba(0,0,0,.6);

    --glass-ball-sd:
      0 1px 1px rgba(255,255,255,.06) inset,
      0 -1px 1px rgba(255,255,255,.03) inset,
      1px 0 1px rgba(0,0,0,.7) inset,
      -1px 0 1px rgba(0,0,0,.7) inset,
      0 10px 20px rgba(0,0,0,.6);

    --glass-beigeCP-sd:
      0 1px 0 rgba(255,255,255,.03) inset,
      2px 0 3px rgba(0,0,0,.7) inset,
      0 14px 28px rgba(0,0,0,.6);

    --glass-beigeSB-sd:
      0 1px 0 rgba(255,255,255,.03) inset,
      -2px 0 1px rgba(0,0,0,.7) inset,
      0 14px 28px rgba(0,0,0,.6);

    --glass-beigeSB-footer-sd:
      0 -1px 0 rgba(255,255,255,.02) inset,
      -2px 0 1px rgba(0,0,0,.7) inset,
      0 10px 20px rgba(0,0,0,.6);

    --glass-item-sd:
      0 1px 0 rgba(255,255,255,.03) inset,
      0 -1px 0 rgba(255,255,255,.02) inset,
      2px 0 1px rgba(0,0,0,.7) inset,
      -2px 0 1px rgba(0,0,0,.7) inset,
      0 10px 18px rgba(0,0,0,.55);

    --glass-blue-sd:
      0 0 0 1px rgba(0,0,0,.7) inset,
      0 14px 32px rgba(0,0,0,.75);

    --glass-blue-toggle-sd:
      0 0 0 1px rgba(0,0,0,.85) inset,
      0 12px 26px rgba(0,0,0,.8);

    --glass-nav-sd:
      0 1px 0 rgba(255,255,255,.02) inset,
      0 10px 22px rgba(0,0,0,.8);

    /* Rigatura carta dark */
    --line-paper-bg: repeating-linear-gradient(
      180deg,
      rgba(255,255,255,.04) 0 1px,
      transparent 1px 28px
    );
    --cp-bg: transparent
    --item-sv-bg: color-mix(in oklab, var(--accent) 12%, var(--panel))
  }
}


/* ========================= THEME ALIASES ========================= */
/* Usa sempre queste nei componenti, NON colori hardcoded */
:root {
  --bg: var(--paper-0);
  --bg-navbar: var(--paper-2);
  --panel: var(--paper-1);
  --panel-2: var(--paper-2);

  --text: var(--ink-0);
  --text-2: var(--ink-2);
  --heading: var(--ink-1);

  --border: var(--line-0);
}
